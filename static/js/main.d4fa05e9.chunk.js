(this["webpackJsonpdeluxe-daddy"]=this["webpackJsonpdeluxe-daddy"]||[]).push([[0],{34:function(e,t,a){e.exports=a(48)},39:function(e,t,a){},40:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n,r,i,s,o=a(5),l=a.n(o),c=a(12),u=a.n(c),d=(a(39),a(6)),m=a(53),p=a(54),f=a(55),h=(a(40),a(31)),v=a.n(h),g=a(1),x=a(4),M=a(8),w=a(2),y=a(3),b=a(0),S=(a(22),a(29),a(30),a(17)),_=a(25),F=(a(23),a(24),a(15)),A=a(13),T={height:5400},G="HDR",z=0,O=0,L=1,E=!0,I=!0,P=!1,D=(o.Component,a(49),a(42),a(50),{height:5400}),C=(o.Component,a(26)),U=a(27),R=a(28);a(43),a(44);function j(e,t,a){e[t]?Object.assign(e[t],a):e[t]=a}function W(){var e=b.ib.prototype.toJSON.call(this,void 0,this._serializationManager.serialize.bind(this._serializationManager));return this._serializationManager.afterSerialize.call(this._serializationManager,e),e}function B(e,t,a,n,r,i,s){var o=Math.cos(r),l=Math.sin(r);this.set(a*o,a*l,-a*(o*i+l*s)+i+e,-n*l,n*o,-n*(-l*i+o*s)+s+t,0,0,0)}["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n");var k=["alphaMap","specularMap","map","emissiveMap","metalnessMap","roughnessMap","glossinessMap"],N={alphaMap:"alphamap_fragment",specularMap:"specularmap_fragment",map:"map_fragment",emissiveMap:"emissivemap_fragment",metalnessMap:"metalnessmap_fragment",roughnessMap:"roughnessmap_fragment",glossinessMap:"metalnessmap_fragment",specularMapGloss:"roughnessmap_fragment"},H=/texture2D\( (.*Map|map), vUv \)/gm;function J(e){return"texture2D( $1, ( ".concat(Y(e)," * vec3( vUv, 1. ) ).xy )")}function Y(e){return"u_".concat(e,"Transform")}function X(e,t){var a=t;e["".concat(t,"Repeat")]=new b.qc(1,1),e["".concat(t,"Offset")]=new b.qc,e["".concat(t,"Center")]=new b.qc,e["".concat(t,"Rotation")]=0,e["".concat(t,"UpdateMatrix")]=function(){this.shaderUniforms[Y(a)].value.setUvTransform(this["".concat(a,"Offset")].x,this["".concat(a,"Offset")].y,this["".concat(a,"Repeat")].x,this["".concat(a,"Repeat")].y,this["".concat(a,"Rotation")],this["".concat(a,"Center")].x,this["".concat(a,"Center")].y)}.bind(e)}function q(e,t){if(console.log("default"),e.isPerMapTransformExtended)return e;e.isPerMapTransformExtended=!0,t=t||k;for(var a={},n={},r=[],i=0;i<t.length;i++){var s=t[i];if(void 0!==e[s]){X(e,s);var o={value:new b.kb,type:"mat3",stage:"fragment"};o.value.setUvTransform=B.bind(o.value),a[Y(s)]=o;var l=s;e.isSpecGlossExtended&&"specularMap"===s&&(l="specularMapGloss"),r.push(s);var c=N[l],u=e.shaderIncludes&&e.shaderIncludes[c]||b.ac[c];u=u.replace(H,J(s)),n[c]=u}}return j(e,"shaderUniforms",a),j(e,"shaderIncludes",n),e._serializationManager||(e._serializationManager=new Z),e._serializationManager.addFunction(function(t,a){return t.metadata.extensions||(t.metadata.extensions={}),t.metadata.extensions.isPerMapTransformExtended=!0,r.forEach((function(a){t["".concat(a,"Repeat")]=e["".concat(a,"Repeat")].toArray(),t["".concat(a,"Offset")]=e["".concat(a,"Offset")].toArray(),t["".concat(a,"Center")]=e["".concat(a,"Center")].toArray(),t["".concat(a,"Rotation")]=e["".concat(a,"Rotation")]})),t}.bind(e)),e._serializationManager.addAfterFunction((function(e){delete e.roughnessMap,delete e.roughness,delete e.metalnessMap,delete e.metalness})),e.toJSON=W.bind(e),e}function Z(){this.processFunctions=[],this.afterFunctions=[]}function V(e,t,a){e[t]?Object.assign(e[t],a):e[t]=a}function $(){var e=b.ib.prototype.toJSON.call(this,void 0,this._serializationManager.serialize.bind(this._serializationManager));return this._serializationManager.afterSerialize.call(this._serializationManager,e),e}Z.prototype={addFunction:function(e){this.processFunctions.push(e)},serialize:function(e,t){return this.processFunctions.forEach((function(t){return t(e)})),e},afterSerialize:function(e){this.afterFunctions.forEach((function(t){return t(e)}))},addAfterFunction:function(e){this.afterFunctions.push(e)}};var K={roughnessmap_fragment:["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),metalnessmap_fragment:["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),lights_physical_fragment:["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n")};function Q(e){if(console.log("gloss"),e.isSpecGlossExtended)return e;e.isSpecGlossExtended=!0;var t={specular:{value:(new b.n).setHex(16777215),type:"vec3",stage:"fragment"},glossiness:{value:1,type:"float",stage:"fragment"},glossinessMap:{value:null,type:"sampler2D",stage:"fragment"},specularMap:{value:null,type:"sampler2D",stage:"fragment"}},a=Object.assign({},K);V(e,"shaderUniforms",t),V(e,"shaderIncludes",a),V(e,"defines",{USE_GLOSSINESSMAP:""}),delete e.metalnessMap,delete e.roughnessMap;var n=function(a){Object.defineProperty(e,a,{get:function(){return t[a].value},set:function(e){return t[a].value=e}})};for(var r in t)n(r);e._serializationManager||(e._serializationManager=new ee);var i=function(e,t){e.metadata.extensions||(e.metadata.extensions={}),e.metadata.extensions.isSpecGlossExtended=!0,e.glossiness=this.glossiness,e.specular=this.specular.getHex(),this.glossinessMap&&this.glossinessMap.isTexture&&(e.glossinessMap=this.glossinessMap.toJSON(t).uuid)}.bind(e);return e._serializationManager.addFunction(i),e.toJSON=$.bind(e),e}function ee(){this.processFunctions=[],this.afterFunctions=[]}function te(e,t,a){e[t]?Object.assign(e[t],a):e[t]=a}function ae(){var e=b.ib.prototype.toJSON.call(this,void 0,this._serializationManager.serialize.bind(this._serializationManager));return this._serializationManager.afterSerialize.call(this._serializationManager,e),e}ee.prototype={addFunction:function(e){this.processFunctions.push(e)},serialize:function(e,t){return this.processFunctions.forEach((function(t){return t(e)})),e},afterSerialize:function(e){this.afterFunctions.forEach((function(t){return t(e)}))},addAfterFunction:function(e){this.afterFunctions.push(e)}};["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n");function ne(e){if(console.log("shaderIncludes"),e.isSimpleInstanceExtended)return e;e.isSimpleInstanceExtended=!0;var t={begin_vertex:"\n\t\t\t".concat(b.ac.begin_vertex,"\n\t\t\t").concat("\n\ttransformed *= instanceScale; //the value present in transformed is in model space, \n\ttransformed = transformed + instanceOffset;\n","\n\t\t")};return e.onBeforeCompile=function(t){t.uniforms.uTime=e.userData.uTime,t.vertexShader="\n\t\tattribute vec3 instanceOffset;\n\t\t\tattribute float instanceScale;\n\t\t\t#include <common>\n\t\t\t#include <uv_pars_vertex>\n\t\t\tattribute float aIndex;\n\t\t\t#include <displacementmap_pars_vertex>\n\t\t\t#include <morphtarget_pars_vertex>\n\t\t\t#include <skinning_pars_vertex>\n\t\t\t#include <logdepthbuf_pars_vertex>\n\t\t\t#include <clipping_planes_pars_vertex>\n\t\t\tvarying vec2 vHighPrecisionZW;\n\t\t\tuniform float uTime;\n\t\t\tvoid main() {\n\t\t\t\t#include <uv_vertex>\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#ifdef USE_DISPLACEMENTMAP\n\t\t\t\t\t#include <beginnormal_vertex>\n\t\t\t\t\t#include <morphnormal_vertex>\n\t\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#endif\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t// instanced\n\t\t\t\tfloat _ind = aIndex + uTime;\n\t\t\t\ttransformed *= 1. + 0.5 * sin(24.0 * 3.14 * _ind );\n\t\t\t\ttransformed = transformed + instanceOffset;\n\t\t\t\t#include <morphtarget_vertex>\n\t\t\t\t#include <skinning_vertex>\n\t\t\t\t#include <displacementmap_vertex>\n\t\t\t\t#include <project_vertex>\n\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t#include <clipping_planes_vertex>\n\t\t\t\tvHighPrecisionZW = gl_Position.zw;\n\t\t\t}\n\t\t"},te(e,"shaderIncludes",t),e._serializationManager||(e._serializationManager=new re),e._serializationManager.addFunction((function(e){e.metadata.extensions||(e.metadata.extensions={}),e.metadata.extensions.isSimpleInstanceExtended=!0})),e.toJSON=ae.bind(e),e}function re(){this.processFunctions=[],this.afterFunctions=[]}function ie(e,t,a){e[t]?Object.assign(e[t],a):e[t]=a}function se(){var e=b.ib.prototype.toJSON.call(this,void 0,this._serializationManager.serialize.bind(this._serializationManager));return this._serializationManager.afterSerialize.call(this._serializationManager,e),e}re.prototype={addFunction:function(e){this.processFunctions.push(e)},serialize:function(e,t){return this.processFunctions.forEach((function(t){return t(e)})),e},afterSerialize:function(e){this.afterFunctions.forEach((function(t){return t(e)}))},addAfterFunction:function(e){this.afterFunctions.push(e)}};["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n");function oe(e){if(console.log("shaderIncludes"),e.isSimpleInstanceExtended)return e;e.isSimpleInstanceExtended=!0;var t={begin_vertex:"\n\t\t\t".concat(b.ac.begin_vertex,"\n\t\t\t").concat("\n\ttransformed *= instanceScale; //the value present in transformed is in model space, \n\ttransformed = transformed + instanceOffset;\n","\n\t\t")};return e.onBeforeCompile=function(t){t.uniforms.uTime=e.userData.uTime,t.vertexShader="\n\t\tattribute vec3 instanceOffset;\n\t\t\tattribute float instanceScale;\n\n\t\t#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n// instanced\nattribute float aIndex;\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nuniform float uTime;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t// instanced\n\t\t\t\tfloat _ind = aIndex + uTime;\n\t\t\ttransformed *= 1.5 + .5 * sin(24.0 * 3.14 * _ind );\n\t\t\t//transformed *= instanceScale;\n\t\t\t\ttransformed = transformed + instanceOffset;\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n\t\t"},ie(e,"shaderIncludes",t),e._serializationManager||(e._serializationManager=new le),e._serializationManager.addFunction((function(e){e.metadata.extensions||(e.metadata.extensions={}),e.metadata.extensions.isSimpleInstanceExtended=!0})),e.toJSON=se.bind(e),e}function le(){this.processFunctions=[],this.afterFunctions=[]}le.prototype={addFunction:function(e){this.processFunctions.push(e)},serialize:function(e,t){return this.processFunctions.forEach((function(t){return t(e)})),e},afterSerialize:function(e){this.afterFunctions.forEach((function(t){return t(e)}))},addAfterFunction:function(e){this.afterFunctions.push(e)}};var ce=a(20),ue=a(32),de={},me=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).sceneSetup=function(){e.el.clientWidth,e.el.clientHeight;e.scene=new b.Zb,e.intersectsScene=new b.Zb,e.mouseX=0,e.mouseY=0,e.targetX=0,e.targetY=0,e.clock=new b.m,e.camera=new b.Db(27,window.innerWidth/window.innerHeight,1,1e4),e.camera.position.z=1200;var t=new b.z(16777215,4);t.position.set(100,260,160),t.castShadow=!0,t.shadow.camera.left=-240,t.shadow.camera.right=240,t.shadow.camera.top=240,t.shadow.camera.bottom=-240,t.shadow.camera.near=10,t.shadow.camera.far=1500,t.shadow.bias=-.001,t.shadow.mapSize.width=512,t.shadow.mapSize.height=512,e.scene.add(t);var a=new b.c(2236962);e.scene.add(a),e.renderer=new b.vc,e.renderer.physicallyCorrectLights=!0,e.renderer.outputEncoding=b.wc,e.renderer.shadowMap.enabled=!0,e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setSize(window.innerWidth,window.innerHeight),e.interaction=new ue.a(e.renderer,e.intersectsScene,e.camera),e.stats=new A.a,e.initInstanceAttributes(),e.initInstanceAttributes2(),e.initInstanceAttributes3(),e.initTexture(),e.initBall(),e.loadGLTF(),e.startAnimationLoop(),e.el.appendChild(e.renderer.domElement),document.addEventListener("mousemove",e.onDocumentMouseMove,!1)},e.loadGLTF=function(){var t=Object(M.a)(e);e.loader=new C.a;var a=new R.a;a.setDecoderPath("three/examples/js/libs/draco/gltf/"),e.loader.setDRACOLoader(a);var n=new U.a;e.loader.setDDSLoader(n);var r=performance.now();e.loader.load("textures/papa.gltf",(function(e){console.log("hey"),t.gltf=e;var a=t.gltf.scene;console.info("Load time: "+(performance.now()-r).toFixed(2)+" ms."),a.traverse((function(e){e.material&&(e.material.isMeshStandardMaterial||e.material.isShaderMaterial&&void 0!==e.material.envMap)&&(e.material.envMap=t.envMap,e.material.needsUpdate=!0)})),a.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0)})),a.rotation.y-=Math.PI,t.scene.add(a);t.meshGLTF=a.children[0],t.meshGLTF.frustumCulled=!1,t.meshGLTF.geometry.scale(2e3,2e3,2e3),t.materialGLTF=t.meshGLTF.material,q(t.materialGLTF),t.applyInstancingToMesh2(t.meshGLTF)}),void 0,(function(e){console.error(e)}))},e.loadGLTF2=function(){var t=Object(M.a)(e);e.loader=new C.a;var a=new R.a;a.setDecoderPath("three/examples/js/libs/draco/gltf/"),e.loader.setDRACOLoader(a);var n=new U.a;e.loader.setDDSLoader(n);var r=performance.now();e.loader.load("textures/hey/papa.gltf",(function(e){console.log("hey"),t.gltf2=e;var a=t.gltf2.scene;console.info("Load time: "+(performance.now()-r).toFixed(2)+" ms."),a.traverse((function(e){e.material&&(e.material.isMeshStandardMaterial||e.material.isShaderMaterial&&void 0!==e.material.envMap)&&(e.material.envMap=t.envMap,e.material.needsUpdate=!0)})),a.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0)})),a.rotation.y-=Math.PI,t.scene.add(a);t.meshGLTF2=a.children[0],t.meshGLTF2.frustumCulled=!1,t.meshGLTF2.geometry.scale(1200,1200,1200),t.materialGLTF2=t.meshGLTF2.material,q(t.materialGLTF2),t.applyInstancingToMesh3(t.meshGLTF2)}),void 0,(function(e){console.error(e)}))},e.initTexture=function(){var t=Object(M.a)(e);e.texture=(new b.kc).load("textures/BoomBox_emissive.png"),e.texture.wrapS=e.texture.wrapT=b.Yb,e.texture.name="texture",e.envMap=(new b.kc).load("textures/BoomBox_emissive.png",(function(e){e.mapping=b.B,e.encoding=b.wc,t.mesh&&(t.material.needsUpdate=!0),t.meshGLTF&&(t.materialGLTF.needsUpdate=!0),t.meshGLTF2&&(t.materialGLTF2.needsUpdate=!0)})),e.envMap.name="envMap"},e.initBall=function(){e.material=Q(new b.sb({color:16758271,envMap:e.envMap,map:e.texture})),e.material2=Q(new b.sb({color:11515391,envMap:e.envMap,map:e.texture})),q(e.material),e.mesh=new b.mb(new b.fc(10),e.material),e.mesh2=new b.mb(new b.fc(10),e.material2),e.mesh.material.needsUpdate=!0,e.mesh2.material.needsUpdate=!0,e.scene.add(e.mesh),e.mesh2.rotation.y-=Math.PI,e.scene.add(e.mesh2),e.mesh.castShadow=!0,e.mesh.receiveShadow=!0,e.mesh2.castShadow=!0,e.mesh2.receiveShadow=!0,e.material.glossinessMap=e.texture,e.applyInstancingToMesh(e.mesh),e.applyInstancingToMesh3(e.mesh2)},e.goEvent=function(e){console.log("oh clicked")},e.initInstanceAttributes=function(){for(var t=[],a=[],n=0;n<=3;n++)a.push(0);for(var r=0;r<10;r++){t.push(new b.sc(400*Math.random()-100,400*Math.random()-100,400*Math.random()-100,1));var i=(r+1)/7;a.push(b.jb.clamp(i,0,1))}var s=new ce.a(3,a,t).getSpacedPoints(128),o=new Float32Array(384),l=new Float32Array(128),c=new Float32Array(384);e.matrixArray=[new Float32Array(512),new Float32Array(512),new Float32Array(512),new Float32Array(512)],e.matrixAttributeArray=[];for(var u=0;u<128;u++){var d=new b.mb(new b.fc(10));d.userData.index=u;var m=3*u;o[m]=s[u].x,o[m+1]=s[u].y,o[m+2]=s[u].z,d.position.x=s[u].x,d.position.y=s[u].y,d.position.z=s[u].z,c[m]=1,c[m+1]=1,c[m+2]=1,l[u]=1+.5*Math.sin(32*Math.PI*u/128),d.scale.x=l[u],d.scale.y=l[u],d.scale.z=l[u],e.intersectsScene.add(d),d.cursor="pointer",d.on("click",(function(e){console.log("heloooo")})),d.updateMatrixWorld();for(var p=0;p<4;p++)for(var f=0;f<4;f++)e.matrixArray[p][4*u+f]=d.matrixWorld.elements[4*p+f]}e.intersectsScene.updateMatrixWorld(!0),console.log("this.intersectsScene",e.intersectsScene),console.log("this.scene",e.scene),e.instanceColorAttribute=new b.O(c,3),e.instanceOffsetAttribute=new b.O(o,3),e.instanceScaleAttribute=new b.O(l,1)},e.initInstanceAttributes2=function(){for(var t=[],a=[],n=0;n<=3;n++)a.push(0);for(var r=0;r<10;r++){t.push(new b.sc(400*Math.random()-100,400*Math.random()-100,400*Math.random()-100,1));var i=(r+1)/7;a.push(b.jb.clamp(i,0,1))}var s=new ce.a(3,a,t).getSpacedPoints(128),o=new Float32Array(384),l=new Float32Array(128),c=new Float32Array(384);e.matrixArray2=[new Float32Array(512),new Float32Array(512),new Float32Array(512),new Float32Array(512)],e.matrixAttributeArray2=[];for(var u=0;u<128;u++){var d=new b.mb(new b.fc(10));d.userData.index=u;var m=3*u;o[m]=s[u].x,o[m+1]=s[u].y,o[m+2]=s[u].z,d.position.x=s[u].x,d.position.y=s[u].y,d.position.z=s[u].z,d.rotation.y-=Math.PI,c[m]=1,c[m+1]=1,c[m+2]=1,l[u]=1+.5*Math.sin(32*Math.PI*u/128),d.scale.x=l[u],d.scale.y=l[u],d.scale.z=l[u],e.intersectsScene.add(d),d.cursor="pointer",d.on("click",(function(e){console.log("heloooo2222")})),d.updateMatrixWorld();for(var p=0;p<4;p++)for(var f=0;f<4;f++)e.matrixArray2[p][4*u+f]=d.matrixWorld.elements[4*p+f]}e.intersectsScene.updateMatrixWorld(!0),e.instanceColorAttribute2=new b.O(c,3),e.instanceOffsetAttribute2=new b.O(o,3),e.instanceScaleAttribute2=new b.O(l,1)},e.initInstanceAttributes3=function(){for(var t=[],a=[],n=0;n<=3;n++)a.push(0);for(var r=0;r<10;r++){t.push(new b.sc(300*Math.random()-150,300*Math.random()-150,300*Math.random()-150,1));var i=(r+1)/7;a.push(b.jb.clamp(i,0,1))}var s=new ce.a(3,a,t).getSpacedPoints(128),o=new Float32Array(384),l=new Float32Array(128),c=new Float32Array(384);e.matrixArray3=[new Float32Array(512),new Float32Array(512),new Float32Array(512),new Float32Array(512)],e.matrixAttributeArray3=[];for(var u=0;u<128;u++){var d=new b.mb(new b.fc(10));d.userData.index=u;var m=3*u;o[m]=s[u].x,o[m+1]=s[u].y,o[m+2]=s[u].z,d.position.x=s[u].x,d.position.y=s[u].y,d.position.z=s[u].z,d.rotation.y-=Math.PI,c[m]=1,c[m+1]=1,c[m+2]=1,l[u]=1.5+.5*Math.sin(32*Math.PI*u/128),d.scale.x=l[u],d.scale.y=l[u],d.scale.z=l[u],e.intersectsScene.add(d),d.cursor="pointer",d.on("click",(function(e){console.log("heloooo2222")})),d.updateMatrixWorld();for(var p=0;p<4;p++)for(var f=0;f<4;f++)e.matrixArray3[p][4*u+f]=d.matrixWorld.elements[4*p+f]}e.intersectsScene.updateMatrixWorld(!0),e.instanceColorAttribute3=new b.O(c,3),e.instanceOffsetAttribute3=new b.O(o,3),e.instanceScaleAttribute3=new b.O(l,1)},e.applyInstancingToMesh=function(t){for(var a=new Float32Array(128),n=0;n<128;n++)a[n]=n/128;t.geometry.addAttribute("aIndex",new b.O(a,1));var r={value:0,type:"float",stage:"vertex"};t.material.userData.uTime=r,Object.defineProperty(t.material,"time",{get:function(){return r.value},set:function(e){return r.value=e}}),oe(t.material),t.customDepthMaterial=ne(new b.ob({depthPacking:b.Lb})),t.material.needsUpdate=!0,t.geometry=(new b.P).copy(t.geometry),t.geometry.instanceCount=128,t.geometry.setAttribute("instanceColor",e.instanceColorAttribute),t.geometry.setAttribute("instanceOffset",e.instanceOffsetAttribute),t.geometry.setAttribute("instanceScale",e.instanceScaleAttribute),t.customDepthMaterial.userData={uTime:t.material.userData.uTime}},e.applyInstancingToMesh2=function(t){for(var a=new Float32Array(128),n=0;n<128;n++)a[n]=n/128;t.geometry.addAttribute("aIndex",new b.O(a,1));var r={value:0,type:"float",stage:"vertex"};t.material.userData.uTime=r,Object.defineProperty(t.material,"time",{get:function(){return r.value},set:function(e){return r.value=e}}),oe(t.material),t.customDepthMaterial=ne(new b.ob({depthPacking:b.Lb})),t.material.needsUpdate=!0,t.geometry=(new b.P).copy(t.geometry),t.geometry.instanceCount=128,t.geometry.setAttribute("instanceColor",e.instanceColorAttribute2),t.geometry.setAttribute("instanceOffset",e.instanceOffsetAttribute2),t.geometry.setAttribute("instanceScale",e.instanceScaleAttribute2),t.customDepthMaterial.userData={uTime:t.material.userData.uTime}},e.applyInstancingToMesh3=function(t){for(var a=new Float32Array(128),n=0;n<128;n++)a[n]=n/128;t.geometry.addAttribute("aIndex",new b.O(a,1));var r={value:0,type:"float",stage:"vertex"};t.material.userData.uTime=r,Object.defineProperty(t.material,"time",{get:function(){return r.value},set:function(e){return r.value=e}}),oe(t.material),t.customDepthMaterial=ne(new b.ob({depthPacking:b.Lb})),t.material.needsUpdate=!0,t.geometry=(new b.P).copy(t.geometry),t.geometry.instanceCount=128,t.geometry.setAttribute("instanceColor",e.instanceColorAttribute3),t.geometry.setAttribute("instanceOffset",e.instanceOffsetAttribute3),t.geometry.setAttribute("instanceScale",e.instanceScaleAttribute3),t.customDepthMaterial.userData={uTime:t.material.userData.uTime}},e.applyIndecisToInstancedMesh=function(t){for(var a=new Float32Array(128),n=0;n<128;n++)a[n]=n/128;t.geometry.addAttribute("aIndex",new b.O(a,1)),delete t.geometry.attributes.instanceScale,console.log("mesh.material.shaderIncludes",t.material),t.material.shaderIncludes.begin_vertex=t.material.shaderIncludes.begin_vertex.replace("transformed *= instanceScale;","float _ind = aIndex + uTime;\n\t\t\ttransformed *= 1. + 0.5 * sin(".concat(32,".0 * ").concat(Math.PI," * _ind );"));var r={value:0,type:"float",stage:"vertex"};t.material.userData.uTime=r,Object.defineProperty(t.material,"time",{get:function(){return r.value},set:function(e){return r.value=e}}),t.material.shaderIncludes.uv_pars_vertex="\n\t\t".concat(b.ac.uv_pars_vertex,"\n\t\tattribute float aIndex;\n\t\t"),console.log("this.scene",e.mesh)},e.onDocumentMouseMove=function(t){var a=window.innerWidth/2,n=window.innerHeight/2,r=Object(M.a)(e);r.mouseX=(t.clientX-a)/2,r.mouseY=(t.clientY-n)/2},e.addCustomSceneObjects=function(){},e.startAnimationLoop=function(){e.targetX=.001*e.mouseX,e.targetY=.001*e.mouseY;var t=.01*e.clock.getDelta()*1;if(e.mesh){e.mesh.rotation.y+=.05*(e.targetX-e.mesh.rotation.y),e.mesh.rotation.x+=.05*(e.targetY-e.mesh.rotation.x),e.mesh.material.time+=t,e.mesh.material.userData.uTime.value=e.mesh.material.time,e.mesh.material.needsUpdate=!0;for(var a=0,n=128;a<n;a++){var r=e.intersectsScene.children[a],i=1.5+.5*Math.sin(24*Math.PI*e.mesh.material.time);r.scale.x=i,r.scale.y=i,r.scale.z=i,r.updateMatrixWorld();for(var s=0;s<4;s++)for(var o=0;o<4;o++)e.matrixArray[s][4*a+o]=r.matrixWorld.elements[4*s+o]}}if(e.mesh2){e.mesh2.rotation.y+=.05*(e.targetX-e.mesh2.rotation.y),e.mesh2.rotation.x+=.05*(e.targetY-e.mesh2.rotation.x),e.mesh2.material.time+=t,e.mesh2.material.userData.uTime.value=e.mesh2.material.time,e.mesh2.material.needsUpdate=!0;for(a=0,n=128;a<n;a++){r=e.intersectsScene.children[a+128],i=1.5+.5*Math.sin(24*Math.PI*e.mesh.material.time);r.scale.x=i,r.scale.y=i,r.scale.z=i,r.updateMatrixWorld();for(var l=0;l<4;l++)for(var c=0;c<4;c++)e.matrixArray3[l][4*a+c]=r.matrixWorld.elements[4*l+c]}}if(e.meshGLTF){e.meshGLTF.rotation.y+=.05*(e.targetX-e.meshGLTF.rotation.y),e.meshGLTF.rotation.x+=.05*(e.targetY-e.meshGLTF.rotation.x),e.meshGLTF.material.time+=t;for(a=0,n=128;a<n;a++){r=e.intersectsScene.children[a+128+128],i=1.5+.5*Math.sin(24*Math.PI*e.meshGLTF.material.time);r.scale.x=i,r.scale.y=i,r.scale.z=i,r.updateMatrixWorld();for(var u=0;u<4;u++)for(var d=0;d<4;d++)e.matrixArray2[u][4*a+d]=r.matrixWorld.elements[4*u+d]}}if(e.meshGLTF2){e.meshGLTF2.rotation.y+=.05*(e.targetX-e.meshGLTF2.rotation.y),e.meshGLTF2.rotation.x+=.05*(e.targetY-e.meshGLTF2.rotation.x),e.meshGLTF2.material.time+=t;for(a=0,n=128;a<n;a++){r=e.intersectsScene.children[a+128+128],i=1.5+.5*Math.sin(24*Math.PI*e.meshGLTF2.material.time);r.scale.x=i,r.scale.y=i,r.scale.z=i,r.updateMatrixWorld();for(var m=0;m<4;m++)for(var p=0;p<4;p++)e.matrixArray3[m][4*a+p]=r.matrixWorld.elements[4*m+p]}}e.renderer.render(e.scene,e.camera),e.stats.end(),e.requestID=window.requestAnimationFrame(e.startAnimationLoop)},e.handleWindowResize=function(){var t=e.el.clientWidth,a=e.el.clientHeight;e.renderer.setSize(t,a),e.camera.aspect=t/a,e.camera.updateProjectionMatrix()},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.sceneSetup(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:de,ref:function(t){return e.el=t}})}}]),a}(o.Component),pe=v()({render:function(){var e;return l.a.createElement(m.a,null,l.a.createElement("div",{id:"app",className:"App",style:{margin:"0px auto",height:"905px"}},l.a.createElement(o.Fragment,null,l.a.createElement(p.a,null,l.a.createElement(f.a,(e={exact:!0,path:"/"},Object(d.a)(e,"exact",!0),Object(d.a)(e,"render",(function(){return l.a.createElement(me,null)})),e))))))}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.d4fa05e9.chunk.js.map